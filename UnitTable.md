# 単位について

このプロジェクトでは，「角度」「長さ」「曲率」「曲率逆数」を扱う際，基本的に以下の定義に準拠するような形にします．

## 角度の単位
角度θについて

| 単位 | 型 | θ>0 | θ<0 | 範囲 |
|:-:|:-:|:-:|:-:|:-:|
| θ[°] | int | CW[^CW] | CCW[^CCW] | int準拠 |

```c
// これは反時計回りの180°を表します
int theta = 90;
// これは時計回りの180°を表します
theta = -90;
// 場合によって，これらは同じ角度を表すかもしれません
theta = 180;
theta = -180
theta = 540;
```

## 距離の単位
距離lengthについて

| 単位 | 型 | length>0 | length<0 | 範囲 |
|:-:|:-:|:-:|:-:|:-:|
| length[mm] | int | 前/右 | 後/左 | int準拠 |

```c
// これは長さ1000mmを表します
int length = 1000;
// go_ahead();関数を，指定されただけ前に進む関数とします
// これは前に1m進みます
go_ahead(length);
// これは後ろに1m進みます
go_ahead(-length);
```

## 曲率半径の単位
曲率半径Rについて

| 単位 | 型 | R>0 | R<0 | 範囲 |
|:-:|:-:|:-:|:-:|:-:|
| R[mm] | int | 左円の曲率半径[^左円] | 右円の曲率半径[^右円] | int準拠 |

```c
// これは進行方向からみて左側に接している半径1000mmの円を表しています
int R = 1000;
// これは右側の半径50mmの円を表しています
R = -50;
```

## 曲率の単位
曲率R'について

| 単位 | 型 | R'>0 | R'<0 | 範囲 |
|:-:|:-:|:-:|:-:|:-:|
| R'[/mm] | int | 左円の曲率[^左円] | 右円の曲率[^右円] | int準拠 |

### 曲率の定義
曲率半径Rに対応する曲率R'(R\_inverse)は，変換定数CURV\_CONSTを使用し，

```c
// 曲率半径1mの左円を表します．
int R = 1000;
// 曲率半径1mの左円に対応する曲率を表します．
int R_invers = CURV_CONST / R;
```
と定義することにします．

なぜ変換定数を導入したかというと，曲率R'を整数で表した際，対応する曲率半径Rが実用に足りるものでは無いからです．
仮にこの変換定数を使用しなければ，直進(R'=0)の次に曲がり具合が少ないのはR'=1のときであり，これはほぼCW超信地旋回です．

具体的には変換定数CURV\_CONSTは，

```c
#define CURV_CONST 1000000
```
です．

[^CW]:CW:時計回り(ClockWise)
[^CCW]:CCW:反時計回り(CounterClockWise)
[^左円]:直進方向に接している円で，直進方向に対して左側にある円の曲率
[^右円]:直進方向に接している円で，直進方向に対して右側にある円の曲率

